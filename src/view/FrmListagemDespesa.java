/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package view;

import dao.DaoDespesa;
import java.awt.Toolkit;
import java.sql.Date;
import java.util.ArrayList;
import java.util.Calendar;
import javax.swing.table.DefaultTableModel;
import model.Despesa;

/**
 *
 * @author LuizV1
 */
public class FrmListagemDespesa extends javax.swing.JFrame {

    /**
     * Creates new form FrmListagemDespesas
     */
    public FrmListagemDespesa(int nvlAdm) {
        initComponents();
        atualizarTabela();
        txtDataDepois.setText("" + new Date(Calendar.getInstance().getTimeInMillis()));
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        panPrincipal = new javax.swing.JPanel();
        lblPesquisar = new javax.swing.JLabel();
        cmbFiltro = new javax.swing.JComboBox<>();
        txtPesquisa = new javax.swing.JTextField();
        lblPesquisarData = new javax.swing.JLabel();
        txtDataAntes = new javax.swing.JTextField();
        lblPesquisarData1 = new javax.swing.JLabel();
        txtDataDepois = new javax.swing.JTextField();
        btnHojePesquisa = new javax.swing.JButton();
        panPrincipal1 = new javax.swing.JPanel();
        jScrollPane3 = new javax.swing.JScrollPane();
        txaDescricaoDespesa = new javax.swing.JTextArea();
        lblDescrição = new javax.swing.JLabel();
        cmbTipoDespesa = new javax.swing.JComboBox<>();
        btnListarDespesas = new javax.swing.JButton();
        lblTipoDespesa = new javax.swing.JLabel();
        btnLimpar = new javax.swing.JButton();
        lblValorDespesa = new javax.swing.JLabel();
        btnCadastrar = new javax.swing.JButton();
        lblVencimento = new javax.swing.JLabel();
        txtfDataVencimento = new javax.swing.JFormattedTextField();
        txtfValorDespesa = new javax.swing.JFormattedTextField();
        btnDeletar = new javax.swing.JButton();
        btnLimparTabela = new javax.swing.JButton();
        btnListarTodos = new javax.swing.JButton();
        btnCadastrarDespesa = new javax.swing.JButton();
        btnAlterar = new javax.swing.JButton();
        lblDigiteODado = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        tblListagemDespesa = new javax.swing.JTable();
        btnDeletarTodosRegistros = new javax.swing.JButton();
        btnMenuPrincipal = new javax.swing.JButton();
        btnFecharFrame = new javax.swing.JButton();
        lblDespesaEncontrado = new javax.swing.JLabel();
        lblBackground = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("Listar Despesas");
        setIconImage(Toolkit.getDefaultToolkit().getImage(getClass().getResource("/img/logopng32.png")));
        setMaximumSize(new java.awt.Dimension(1152, 648));
        setMinimumSize(new java.awt.Dimension(1152, 648));
        setResizable(false);
        getContentPane().setLayout(null);

        panPrincipal.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        panPrincipal.setOpaque(false);
        panPrincipal.setLayout(null);

        lblPesquisar.setFont(new java.awt.Font("Malgun Gothic", 0, 18)); // NOI18N
        lblPesquisar.setText("Pesquisar por: ");
        panPrincipal.add(lblPesquisar);
        lblPesquisar.setBounds(10, 10, 160, 25);

        cmbFiltro.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Código", "Tipo", "Data", "Descrição", "Valor" }));
        cmbFiltro.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmbFiltroActionPerformed(evt);
            }
        });
        panPrincipal.add(cmbFiltro);
        cmbFiltro.setBounds(160, 10, 210, 25);

        txtPesquisa.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtPesquisaActionPerformed(evt);
            }
        });
        txtPesquisa.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtPesquisaKeyReleased(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtPesquisaKeyTyped(evt);
            }
        });
        panPrincipal.add(txtPesquisa);
        txtPesquisa.setBounds(561, 10, 100, 25);

        lblPesquisarData.setFont(new java.awt.Font("Malgun Gothic", 0, 18)); // NOI18N
        lblPesquisarData.setText("Data:  De:");
        panPrincipal.add(lblPesquisarData);
        lblPesquisarData.setBounds(670, 10, 90, 25);

        txtDataAntes.setText("1980-01-01");
        txtDataAntes.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtDataAntesActionPerformed(evt);
            }
        });
        txtDataAntes.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtDataAntesKeyReleased(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtDataAntesKeyTyped(evt);
            }
        });
        panPrincipal.add(txtDataAntes);
        txtDataAntes.setBounds(770, 10, 90, 25);

        lblPesquisarData1.setFont(new java.awt.Font("Malgun Gothic", 0, 18)); // NOI18N
        lblPesquisarData1.setText("Até:");
        panPrincipal.add(lblPesquisarData1);
        lblPesquisarData1.setBounds(870, 10, 70, 25);

        txtDataDepois.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtDataDepoisActionPerformed(evt);
            }
        });
        txtDataDepois.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtDataDepoisKeyReleased(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtDataDepoisKeyTyped(evt);
            }
        });
        panPrincipal.add(txtDataDepois);
        txtDataDepois.setBounds(920, 10, 80, 25);

        btnHojePesquisa.setText("Hoje");
        btnHojePesquisa.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnHojePesquisaActionPerformed(evt);
            }
        });
        panPrincipal.add(btnHojePesquisa);
        btnHojePesquisa.setBounds(1010, 10, 55, 25);

        panPrincipal1.setBorder(javax.swing.BorderFactory.createTitledBorder("Dados da Despesa"));
        panPrincipal1.setOpaque(false);
        panPrincipal1.setLayout(null);

        txaDescricaoDespesa.setColumns(20);
        txaDescricaoDespesa.setLineWrap(true);
        txaDescricaoDespesa.setRows(5);
        txaDescricaoDespesa.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txaDescricaoDespesaKeyReleased(evt);
            }
        });
        jScrollPane3.setViewportView(txaDescricaoDespesa);

        panPrincipal1.add(jScrollPane3);
        jScrollPane3.setBounds(10, 83, 1070, 160);

        lblDescrição.setFont(new java.awt.Font("Malgun Gothic", 0, 18)); // NOI18N
        lblDescrição.setText("Descrição detalhada da Despesa:");
        panPrincipal1.add(lblDescrição);
        lblDescrição.setBounds(10, 50, 343, 25);

        cmbTipoDespesa.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Serviço", "Obrigações", "Salarios a pagar" }));
        panPrincipal1.add(cmbTipoDespesa);
        cmbTipoDespesa.setBounds(166, 10, 215, 25);

        btnListarDespesas.setText("Listar Despesas Cadastradas");
        btnListarDespesas.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnListarDespesasActionPerformed(evt);
            }
        });
        panPrincipal1.add(btnListarDespesas);
        btnListarDespesas.setBounds(570, 270, 210, 30);

        lblTipoDespesa.setFont(new java.awt.Font("Malgun Gothic", 0, 18)); // NOI18N
        lblTipoDespesa.setText("Tipo de despesa:");
        panPrincipal1.add(lblTipoDespesa);
        lblTipoDespesa.setBounds(10, 10, 150, 25);

        btnLimpar.setText("Limpar");
        btnLimpar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnLimparActionPerformed(evt);
            }
        });
        panPrincipal1.add(btnLimpar);
        btnLimpar.setBounds(820, 270, 100, 30);

        lblValorDespesa.setFont(new java.awt.Font("Malgun Gothic", 0, 18)); // NOI18N
        lblValorDespesa.setText("Valor da despesa:");
        panPrincipal1.add(lblValorDespesa);
        lblValorDespesa.setBounds(770, 10, 150, 25);

        btnCadastrar.setText("Cadastrar");
        btnCadastrar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCadastrarActionPerformed(evt);
            }
        });
        panPrincipal1.add(btnCadastrar);
        btnCadastrar.setBounds(950, 270, 130, 30);

        lblVencimento.setFont(new java.awt.Font("Malgun Gothic", 0, 18)); // NOI18N
        lblVencimento.setText("Data de Vencimento:");
        panPrincipal1.add(lblVencimento);
        lblVencimento.setBounds(409, 10, 171, 25);

        txtfDataVencimento.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.DateFormatter()));
        panPrincipal1.add(txtfDataVencimento);
        txtfDataVencimento.setBounds(590, 10, 128, 25);

        txtfValorDespesa.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#0.00"))));
        txtfValorDespesa.setText("0,00");
        txtfValorDespesa.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtfValorDespesaKeyReleased(evt);
            }
        });
        panPrincipal1.add(txtfValorDespesa);
        txtfValorDespesa.setBounds(930, 10, 125, 25);

        panPrincipal.add(panPrincipal1);
        panPrincipal1.setBounds(10, 50, 1100, 250);

        btnDeletar.setText("Deletar registro selecionado");
        btnDeletar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnDeletarActionPerformed(evt);
            }
        });
        panPrincipal.add(btnDeletar);
        btnDeletar.setBounds(10, 310, 170, 30);

        btnLimparTabela.setText("Limpar tabela");
        btnLimparTabela.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnLimparTabelaActionPerformed(evt);
            }
        });
        panPrincipal.add(btnLimparTabela);
        btnLimparTabela.setBounds(410, 310, 120, 30);

        btnListarTodos.setText("Listar todos os registros");
        btnListarTodos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnListarTodosActionPerformed(evt);
            }
        });
        panPrincipal.add(btnListarTodos);
        btnListarTodos.setBounds(550, 310, 147, 30);

        btnCadastrarDespesa.setText("Cadastrar nova despesa");
        btnCadastrarDespesa.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCadastrarDespesaActionPerformed(evt);
            }
        });
        panPrincipal.add(btnCadastrarDespesa);
        btnCadastrarDespesa.setBounds(720, 310, 150, 30);

        btnAlterar.setText("Alterar");
        btnAlterar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnAlterarActionPerformed(evt);
            }
        });
        panPrincipal.add(btnAlterar);
        btnAlterar.setBounds(980, 310, 130, 30);

        lblDigiteODado.setFont(new java.awt.Font("Malgun Gothic", 0, 18)); // NOI18N
        lblDigiteODado.setText("Digite o(a) Código:");
        panPrincipal.add(lblDigiteODado);
        lblDigiteODado.setBounds(375, 10, 280, 25);

        getContentPane().add(panPrincipal);
        panPrincipal.setBounds(10, 10, 1125, 350);

        tblListagemDespesa.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        tblListagemDespesa.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tblListagemDespesaMouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(tblListagemDespesa);

        getContentPane().add(jScrollPane1);
        jScrollPane1.setBounds(10, 390, 1125, 150);

        btnDeletarTodosRegistros.setText("Deletar todos os registros");
        btnDeletarTodosRegistros.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnDeletarTodosRegistrosActionPerformed(evt);
            }
        });
        getContentPane().add(btnDeletarTodosRegistros);
        btnDeletarTodosRegistros.setBounds(10, 550, 160, 30);

        btnMenuPrincipal.setText("Menu Principal");
        btnMenuPrincipal.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnMenuPrincipalActionPerformed(evt);
            }
        });
        getContentPane().add(btnMenuPrincipal);
        btnMenuPrincipal.setBounds(900, 550, 130, 30);

        btnFecharFrame.setText("Fechar ");
        btnFecharFrame.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnFecharFrameActionPerformed(evt);
            }
        });
        getContentPane().add(btnFecharFrame);
        btnFecharFrame.setBounds(1055, 550, 80, 30);

        lblDespesaEncontrado.setFont(new java.awt.Font("Malgun Gothic", 0, 18)); // NOI18N
        lblDespesaEncontrado.setText("Despesas encontradas no banco de dados. Para visualizar ou alterar um registro, clique em um registro exibido na tabela.");
        getContentPane().add(lblDespesaEncontrado);
        lblDespesaEncontrado.setBounds(10, 360, 1120, 25);

        lblBackground.setIcon(new javax.swing.ImageIcon(getClass().getResource("/img/fundo.png"))); // NOI18N
        getContentPane().add(lblBackground);
        lblBackground.setBounds(0, -20, 1150, 650);

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void cmbFiltroActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmbFiltroActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_cmbFiltroActionPerformed

    private void txtPesquisaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtPesquisaActionPerformed

    }//GEN-LAST:event_txtPesquisaActionPerformed

    private void txtPesquisaKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtPesquisaKeyReleased
        // Chamando método de listagem com filtro, se txt preenchido
        try {
            //criando variável de controle
            int controle = 0;

            //Se campo de texto não estiver vazio
            if (!"".equals(txtPesquisa.getText().trim())) {
                controle = 1;
                atualizarTabelaFiltrada();
            }

            //Se a variável de controle for 0, diz-se que o campo está vazio e, portanto, atualiza a JTable
            if (controle == 0) {
                atualizarTabela();
            }
        } catch (Exception ex) {
            System.out.println("Exceção: " + ex);
        }
    }//GEN-LAST:event_txtPesquisaKeyReleased

    private void txtPesquisaKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtPesquisaKeyTyped

    }//GEN-LAST:event_txtPesquisaKeyTyped

    private void txtDataAntesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtDataAntesActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtDataAntesActionPerformed

    private void txtDataAntesKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtDataAntesKeyReleased
        try {
            int controle = 0;
            if (!"".equals(txtDataAntes.getText().trim())) {
                controle = 1;
                atualizarTabelaFiltradaData();
            }
            if (controle == 0) {
                atualizarTabela();
            }
        } catch (Exception ex) {
            System.out.println("Exceção: " + ex);
        }
    }//GEN-LAST:event_txtDataAntesKeyReleased

    private void txtDataAntesKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtDataAntesKeyTyped
        // TODO add your handling code here:
    }//GEN-LAST:event_txtDataAntesKeyTyped

    private void txtDataDepoisActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtDataDepoisActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtDataDepoisActionPerformed

    private void txtDataDepoisKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtDataDepoisKeyReleased
        try {
            int controle = 0;
            if (!"".equals(txtDataDepois.getText().trim())) {
                controle = 1;
                atualizarTabelaFiltradaData();
            }
            if (controle == 0) {
                atualizarTabela();
            }
        } catch (Exception ex) {
            System.out.println("Exceção: " + ex);
        }
    }//GEN-LAST:event_txtDataDepoisKeyReleased

    private void txtDataDepoisKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtDataDepoisKeyTyped
        // TODO add your handling code here:
    }//GEN-LAST:event_txtDataDepoisKeyTyped

    private void tblListagemDespesaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tblListagemDespesaMouseClicked
        txaDescricaoSelecionada.setText((String) tblListagemDespesa.getValueAt(tblListagemDespesa.getSelectedRow(), 3));
    }//GEN-LAST:event_tblListagemDespesaMouseClicked

    private void btnHojePesquisaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnHojePesquisaActionPerformed
        txtfDataDe.setText(control.Datas.getDiaHoje());
        txtfDataAte.setText(control.Datas.getDiaHoje());
    }//GEN-LAST:event_btnHojePesquisaActionPerformed

    private void txaDescricaoDespesaKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txaDescricaoDespesaKeyReleased
        txaDescricaoDespesa.setText(TextSize.maxLenghtDescricaoDespesa(txaDescricaoDespesa.getText()));
    }//GEN-LAST:event_txaDescricaoDespesaKeyReleased

    private void btnListarDespesasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnListarDespesasActionPerformed
        control.Janelas.abrirListagemDespesa();
    }//GEN-LAST:event_btnListarDespesasActionPerformed

    private void btnLimparActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnLimparActionPerformed
        limpar();
    }//GEN-LAST:event_btnLimparActionPerformed

    private void btnCadastrarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCadastrarActionPerformed
        cadastrarDespesa();
    }//GEN-LAST:event_btnCadastrarActionPerformed

    private void txtfValorDespesaKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtfValorDespesaKeyReleased
        txtfValorDespesa.setText(control.TextSize.maxLenghtValorDespesa(txtfValorDespesa.getText()));
    }//GEN-LAST:event_txtfValorDespesaKeyReleased

    private void btnDeletarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnDeletarActionPerformed
        deletarRegistro();
    }//GEN-LAST:event_btnDeletarActionPerformed

    private void btnLimparTabelaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnLimparTabelaActionPerformed
        limparTabela();
    }//GEN-LAST:event_btnLimparTabelaActionPerformed

    private void btnListarTodosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnListarTodosActionPerformed
        atualizarTabela(false);
    }//GEN-LAST:event_btnListarTodosActionPerformed

    private void btnCadastrarDespesaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCadastrarDespesaActionPerformed
        control.Janelas.abrirCadastroDespesa();
    }//GEN-LAST:event_btnCadastrarDespesaActionPerformed

    private void btnAlterarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnAlterarActionPerformed
        alterarRegistro();
    }//GEN-LAST:event_btnAlterarActionPerformed

    private void btnDeletarTodosRegistrosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnDeletarTodosRegistrosActionPerformed
        removerTodosRegistros();
    }//GEN-LAST:event_btnDeletarTodosRegistrosActionPerformed

    private void btnMenuPrincipalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnMenuPrincipalActionPerformed
        control.Janelas.focarPrincipal();
    }//GEN-LAST:event_btnMenuPrincipalActionPerformed

    private void btnFecharFrameActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnFecharFrameActionPerformed
        this.dispose();
    }//GEN-LAST:event_btnFecharFrameActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(FrmListagemDespesa.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(FrmListagemDespesa.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(FrmListagemDespesa.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(FrmListagemDespesa.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new FrmListagemDespesa(control.SynchroSoft.getNvlAdm()).setVisible(true);
            }
        });
    }

    private void atualizarTabelaFiltrada() {
        ArrayList<Despesa> lista = new ArrayList<>();
        lista = DaoDespesa.listarDespesaFiltrada((String) cmbFiltro.getSelectedItem(), txtPesquisa.getText().trim().toLowerCase());
        String[] nomeColunas = {"Código", "Tipo Despesa", "Data", "Descrição", "Valor", "PK_REF"};
        try {
            DefaultTableModel model = new DefaultTableModel() {
                @Override
                public boolean isCellEditable(int row, int column) {
                    if (column == 6) {
                        return false;
                    }
                    return true;
                }
            };
            tblListagemDespesa.setModel(model);
            model.setColumnIdentifiers(nomeColunas);
            model.setRowCount(0);
            Object rowData[] = new Object[6];
            for (int i = 0; i < lista.size(); i++) {
                rowData[0] = Integer.toString(lista.get(i).getCodigoDespesa());
                rowData[1] = lista.get(i).getTipoDespesas();
                rowData[2] = lista.get(i).getDataDespesa().toString();
                rowData[3] = lista.get(i).getDescricaoDespesa();
                rowData[4] = lista.get(i).getValorDespesaSTR();
                rowData[5] = Integer.toString(lista.get(i).getCodigoDespesa());

                model.addRow(rowData);
            }

        } catch (Exception ex) {
            System.out.println("Erro ao popular tabela.\n\n" + ex.getMessage());
        }

        tblListagemDespesa.getColumnModel().getColumn(5).setMinWidth(0);
        tblListagemDespesa.getColumnModel().getColumn(5).setPreferredWidth(0);
        tblListagemDespesa.getColumnModel().getColumn(5).setMaxWidth(0);
    }

    private void atualizarTabelaFiltradaData() {
        ArrayList<Despesa> lista = new ArrayList<>();
        lista = DaoDespesa.listarDespesaFiltradaData(txtDataAntes.getText().trim(), txtDataDepois.getText().trim());
        String[] nomeColunas = {"Código", "Tipo Despesa", "Data", "Descrição", "Valor", "PK_REF"};
        try {
            DefaultTableModel model = new DefaultTableModel() {
                @Override
                public boolean isCellEditable(int row, int column) {
                    if (column == 6) {
                        return false;
                    }
                    return true;
                }
            };
            tblListagemDespesa.setModel(model);
            model.setColumnIdentifiers(nomeColunas);
            model.setRowCount(0);
            Object rowData[] = new Object[6];
            for (int i = 0; i < lista.size(); i++) {
                rowData[0] = Integer.toString(lista.get(i).getCodigoDespesa());
                rowData[1] = lista.get(i).getTipoDespesas();
                rowData[2] = lista.get(i).getDataDespesa();
                rowData[3] = lista.get(i).getDescricaoDespesa();
                rowData[4] = lista.get(i).getValorDespesaSTR();
                rowData[5] = Integer.toString(lista.get(i).getCodigoDespesa());

                model.addRow(rowData);
            }

        } catch (Exception ex) {
            System.out.println("Erro ao popular tabela.\n\n" + ex.getMessage());
        }

        tblListagemDespesa.getColumnModel().getColumn(5).setMinWidth(0);
        tblListagemDespesa.getColumnModel().getColumn(5).setPreferredWidth(0);
        tblListagemDespesa.getColumnModel().getColumn(5).setMaxWidth(0);
    }

    private void atualizarTabela() {
        ArrayList<Despesa> lista = new ArrayList<>();
        lista = DaoDespesa.listarDespesa();
        String[] nomeColunas = {"Código", "Tipo Despesa", "Data", "Descrição", "Valor", "PK_REF"};
        try {
            DefaultTableModel model = new DefaultTableModel() {
                @Override
                public boolean isCellEditable(int row, int column) {
                    if (column == 6) {
                        return false;
                    }
                    return true;
                }
            };
            tblListagemDespesa.setModel(model);
            model.setColumnIdentifiers(nomeColunas);
            model.setRowCount(0);
            Object rowData[] = new Object[6];
            for (int i = 0; i < lista.size(); i++) {
                rowData[0] = Integer.toString(lista.get(i).getCodigoDespesa());
                rowData[1] = lista.get(i).getTipoDespesas();
                rowData[2] = lista.get(i).getDataDespesa();
                rowData[3] = lista.get(i).getDescricaoDespesa();
                rowData[4] = lista.get(i).getValorDespesaSTR();
                rowData[5] = Integer.toString(lista.get(i).getCodigoDespesa());

                model.addRow(rowData);
            }

        } catch (Exception ex) {
            System.out.println("Erro ao popular tabela.\n\n" + ex.getMessage());
        }

        tblListagemDespesa.getColumnModel().getColumn(5).setMinWidth(0);
        tblListagemDespesa.getColumnModel().getColumn(5).setPreferredWidth(0);
        tblListagemDespesa.getColumnModel().getColumn(5).setMaxWidth(0);
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnAlterar;
    private javax.swing.JButton btnCadastrar;
    private javax.swing.JButton btnCadastrarDespesa;
    private javax.swing.JButton btnDeletar;
    private javax.swing.JButton btnDeletarTodosRegistros;
    private javax.swing.JButton btnFecharFrame;
    private javax.swing.JButton btnHojePesquisa;
    private javax.swing.JButton btnLimpar;
    private javax.swing.JButton btnLimparTabela;
    private javax.swing.JButton btnListarDespesas;
    private javax.swing.JButton btnListarTodos;
    private javax.swing.JButton btnMenuPrincipal;
    private javax.swing.JComboBox<String> cmbFiltro;
    private javax.swing.JComboBox<String> cmbTipoDespesa;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JLabel lblBackground;
    private javax.swing.JLabel lblDescrição;
    private javax.swing.JLabel lblDespesaEncontrado;
    private javax.swing.JLabel lblDigiteODado;
    private javax.swing.JLabel lblPesquisar;
    private javax.swing.JLabel lblPesquisarData;
    private javax.swing.JLabel lblPesquisarData1;
    private javax.swing.JLabel lblTipoDespesa;
    private javax.swing.JLabel lblValorDespesa;
    private javax.swing.JLabel lblVencimento;
    private javax.swing.JPanel panPrincipal;
    private javax.swing.JPanel panPrincipal1;
    private javax.swing.JTable tblListagemDespesa;
    private javax.swing.JTextArea txaDescricaoDespesa;
    private javax.swing.JTextField txtDataAntes;
    private javax.swing.JTextField txtDataDepois;
    private javax.swing.JTextField txtPesquisa;
    private javax.swing.JFormattedTextField txtfDataVencimento;
    private javax.swing.JFormattedTextField txtfValorDespesa;
    // End of variables declaration//GEN-END:variables
}
